Schema Planning

IDEAS:
- NAME: AirBedNAnime
  - People stay in anime themed houses in:
    - Miyazaki movies (Spirited away, Howl's Moving Castle, etc)
    - Hidden Leaf Village houses (Naruto's house, Hokages house, Cave where naruto was born, Kurama's Prison)
    - One Piece Homes (Raleighs home, Hancock's house, Garp's house,
      Usopp's house, Nami's House, Sanji's House, Whole cake Island, Drum Island, Shirahoshi's room etc)
  - Recommended Areas
    - Konoha,
    - Karakura town
    - Huenco Mundo
    - City A, B, C (maybe)
    - One Piece Islands (Ennies Lobby, Water 7, Saboedy Island, Fishman Island)
  - People
    - Hidden Leaf Village(Naruto, Sasuke, Sakura, Minato & Kushina, Kurama)
    - One Piece (Garp, Usopp, Nami, Sanji, Raleigh, Hancock, Moria)


Table: Users
- username, string, null:false
- password_digest, string, null:false
- session_token, string, null:false
- Host Rating
- User Rating
- Host_description
index username

has many Home listings
has many home listing reviews through home listings
has taken/will take many trips
has authored many reviews
has liked many homes
has many guests through home listings

Table: Homes
**location**
  - longitude, integer, null:false
  - latitude, integer, null:false
  - street_number, integer, null:false
  - street, string, null:false
  - city, string, null:false
  - state, string, null: false
  - zip, integer, null:false
**features
- beds, integer, null:false
- baths, integer, null:false
- bedrooms, integer, null:false
- Internet, boolean,
- Washer
- Dryer
- Owner_id, integer, null: false
- Home_rating, integer, null: false
**

belongs_to Owner_id
has many guests
has many bookings

Table: Bookings
- home_id, integer, null:false
- start_booking, null:false
- end_booking, null: false
- guest id


Table: Reviews
- home_id, integer, null:false
- author_id, integer, null:false
- title
- body
- review_rating

Table: likes
- guest_id, integer, null:false
- home_id, integer, null:false


Table: Experiences

Table: Restaurants

PHOTOS:
Table: User_Photos

Table: Home_Photos

Table: Stock_Photos


# Database Schema

## users

column name| data type | details
------------------|-----------|-------------
`id`              | integer   | not null, primary key
`username`        | string    | not null
`email`           | string    | not null
`password_digest` | integer   | not null
`host_rating`     | float     |
`guest_rating`    | float     |
`host_description`| integer   |
`created_at`      | date      | not null
`updated_at`      | date      | not null

- #user has many Home
- #user has many home listing reviews (as a host) through home listings
- #user has taken/will take many trips (Bookings)
- #user has authored many reviews (Reviews)
- #user has liked many homes (Favorites)
- #user has many guests through home listings


## Homes

column name| data type | details
------------------|-----------|-------------
`id`              | integer   | not null, primary key
`status`          | string    | not null
`longitude`       | float     | not null
`latitude`        | float     | not null
`street_number`   | integer   | not null
`street_detail`   | string    |
`street`          | string    | not null
`city`            | string    | not null
`state`           | integer   | not null
`zipcode`         | integer   | not null
`beds`            | integer   | not null
`baths`           | integer   | not null
`bedrooms`        | integer   | not null
`Internet`        | boolean   | not null, default false
`Washer`          | boolean   | not null, default false
`Dryer`           | boolean   | not null, default false
`host_id`         | integer   | not null
`created_at`      | date      | not null
`updated_at`      | date      | not null

- index on `host_id`
- #home belongs_to host
- #home has many bookings
- #home has many guests through bookings
- #home status will be [online, pending, offline]

# Hostings
column name| data type | details
------------------|-----------|-------------
`id`              | integer   | not null, primary key
`host_id`         | integer   | not null
`home_id`         | integer   | not null

- index on host_id
- index on home_id
- #hosting belongs_to hosts
- #hosting belongs_to homes

## Bookings

column name| data type | details
------------------|-----------|-------------
`id`              | integer   | not null, primary key
`home_id`         | integer   | not null
`guest_id`        | integer   | not null
`start_booking`   | date      | not null
`end_booking`     | date      | not null
`created_at`      | date      | not null
`updated_at`      | date      | not null

- index on `home_id`
- index on `guest_id`
- #booking belongs to guests
- #booking belongs to hosts
- Note* Both bookings and blackout dates are stored in #Bookings


## Reviews

column name| data type | details
------------------|-----------|-------------
`id`              | integer   | not null, primary key
`author_id`       | integer   | not null
`home_id`         | integer   | not null
`title`           | string    | not null
`body`            | text      |
`review_rating`   | integer   | not null
`created_at`      | date      | not null
`updated_at`      | date      | not null

- index on `author_id`
- index on `home_id`
- #Review belongs to author
- #Review describes (belongs to) home

## Favorites

column name| data type | details
------------------|-----------|-------------
`id`              | integer   | not null, primary key
`guest_id`        | integer   | not null
`home_id`         | string    | not null

- index on `guest_id`
- index on `home_id`
- #Favorites belongs to guest
- #Favorites describes (belongs_to) home

# BONUS

## Conversation

column name| data type | details
------------------|-----------|-------------
`id`              | integer   | not null, primary key
`host_id`         | integer   | not null
`guest_id`        | integer   | not null
`home_id`         | integer   | not null
`booking_id`      | integer   |
`created_at`      | date      | not null
`updated_at`      | date      | not null


## Messages

column name| data type | details
------------------|-----------|-------------
`id`              | integer   | not null, primary key
`conversation_id` | integer   | not null
`author_id`       | integer   | not null
`message`         | text      | not null
`created_at`      | date      | not null
`updated_at`      | date      | not null
